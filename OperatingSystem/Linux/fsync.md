fsync() transfers ("flushes") all modified in-core data of (i.e., modified buffer cache pages for) the file referred to by the file descriptor fd to the disk device (or other permanent storage device) so that all changed information can be retrieved even after the system crashed or was rebooted. This includes writing through or flushing a disk cache if present. The call blocks until the device reports that the transfer has completed. It also flushes metadata information associated with the file.

##### What is the functional difference between msync() and fsync() in linux?

Both syscalls msync() and fsync() write modified file data cached in memory to permanent storage, that is, a disk. Hence, they ensure that file modifications will not be lost if a system crashes suddenly. There are two ways how to work with data in files. The first one uses explicit read() and write() syscalls, which transfer data between a file and a buffer in memory allocated by a process. The second way is mapping a file into memory. The file data are accessed like an ordinary array using pointers and indexing. Reading and writing of the file is done transparently as needed by the operating system. Syscall fsync() is used for files modified by write(). Syscall msync() is used for files mapped to memory.
